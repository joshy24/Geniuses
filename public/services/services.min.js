myApp.service("service",["$http","$q","authService",function(t,e,s){data=[],url="",this.setViewCount=function(t){data={post_id:t,method:"incrementViewCount"}},this.setShareCount=function(t){data={post_id:t,method:"incrementShareCount"}},this.setHelpful=function(t,e){data={post_id:t,operation:e,method:"setHelpful"}},this.setPost=function(t){data={post_id:t,method:"getPost"}},this.setLatestComments=function(t,e){return t&&e?(data={method:"getLatestCommentsOnPost",post_id:e,comment_date:t},!0):!1},this.setEditDiscussion=function(t,e){return t&&e?(data={discussion_id:t,discussion:e,method:"editDiscussion"},!0):!1},this.setEditComment=function(t,e){return t&&e?(data={comment_id:t,comment:e,method:"editComment"},!0):!1},this.setmakeComment=function(t,e,s,n,i){return t&&e&&s&&n&&i?(data={post_id:t,owner_id:e,owner_type:s,user_type:n,comment:i,method:"postComment"},!0):!1},this.setQuestionPost=function(t,e){return void 0!=t&null!=t&&e>0?(data={question_id:e,subject_name:t,method:"postQuestion"},!0):!1},this.makeCustom=function(t,e,s,n,i){return t&&e&&s&&n&&i&&(data={subject:t,aclass:e,number:s,exam_type:n,topics:i,exam_option:"custom",method:"getQuestions"}),!0},this.makeYear=function(t,e,s){return t&&e&&s&&(data={subject:t,exam_type:e,method:"getQuestions",year:s,exam_option:"year"}),!0},this.setReplyRequest=function(t,e){return t&&e?(data={action:e,request_id:t,method:"userRequestResponse"},!0):!1},this.setuploadImage=function(t){return null!=t&&void 0!=t?(data={image:t,method:"uploadImage"},!0):!1},this.setSubjectTopics=function(){return data={method:"getSubjects"},!0},this.setUpdateProfile=function(t){return null!=t&&void 0!=t?(data=t,!0):!1},this.setFriends=function(t){return data={user_type:"S",offset:t,method:"getFriends"},!0},this.setRequests=function(){return data={method:"getFriendRequests"},!0},this.setUser=function(t,e){return t>1&&e?(data={find_id:t,find_type:e,user_type:"S",method:"getUser"},!0):!1},this.setSendRequest=function(t,e){return t&&e?(data={from_type:"S",to_id:t,to_type:e,method:"sendFriendRequest"},!0):!1},this.setGetUsers=function(t,e,s){return t||e&&s?(data={firstname:t,lastname:e,method:"getUsersByName",offset:s},!0):!1},this.setLogOut=function(){data={method:"LogUserOut"}},this.setfriendsOnline=function(){return data={method:"getOnlineUsers"},!0},this.setDiscussion=function(t){return null!=t&&t.trim().length>0?(data={discussion:t,method:"postDiscussion"},!0):!1},this.setPosts=function(t){return data={method:"getAllPosts",post_count:t},!0},this.setEmail=function(t,e){data={method:"sendMail",msg:t,subject:e}},this.setNotofication=function(){data={method:"getFriendRequests"}},this.send=function(){""==url&&(url="endpoints/userData2.php"),data.at=s.getAt(),data.rt=s.getRt(),(0==data.rt||0==data.at)&&s.logOut();var n=e.defer();return $(".spinner-div").show(),t.post(url,data).then(function(t){n.resolve(t),$(".spinner-div").fadeOut()},function(){n.reject(!1),$(".spinner-div").fadeOut()}),n.promise}}]);